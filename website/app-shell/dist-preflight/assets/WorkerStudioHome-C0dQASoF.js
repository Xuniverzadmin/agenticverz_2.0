import{f as g,u as N,r as i,j as e,H as s,n as p,y as f,S as v,F as w}from"./index-BnpC133k.js";import{C as M}from"./clock-C3lW4_yM.js";import{G as R}from"./git-branch-90xaKnL0.js";import{H as C,l as S,g as A,S as _}from"./worker-DVYLZBo-.js";import{L as E}from"./layers-DhVPzhJz.js";import{P as o}from"./play-CfTQN8rq.js";import{R as h}from"./refresh-cw-C0UIxpEg.js";import{T as L}from"./target-B7jhxdqz.js";import{Z as D}from"./zap-DrayNqsv.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=g("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=g("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]),B=[{id:"business-builder",name:"Business Builder",description:"Generate complete landing pages, copy, positioning, and marketing assets from a brand strategy.",icon:e.jsx(_,{className:"w-6 h-6"}),status:"available",moats:["M9","M10","M15","M17","M18","M19","M20"]},{id:"code-debugger",name:"Code Debugger",description:"Analyze codebases, identify bugs, and suggest fixes with full traceability.",icon:e.jsx(F,{className:"w-6 h-6"}),status:"coming_soon",moats:["M9","M10","M17","M19"]},{id:"repo-fixer",name:"Repo Fixer",description:"Automatically fix CI failures, dependency issues, and code quality problems.",icon:e.jsx(R,{className:"w-6 h-6"}),status:"coming_soon",moats:["M9","M10","M17","M18","M19"]},{id:"research-analyst",name:"Research Analyst",description:"Deep research on markets, competitors, and trends with structured output.",icon:e.jsx(w,{className:"w-6 h-6"}),status:"coming_soon",moats:["M15","M17","M19"]}],n={M4:{label:"Golden Replay",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"},M9:{label:"Failure Catalog",color:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300"},M10:{label:"Recovery Engine",color:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"},M15:{label:"SBA",color:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300"},M17:{label:"CARE Routing",color:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"},M18:{label:"Drift Detection",color:"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-300"},M19:{label:"Policy Layer",color:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-300"},M20:{label:"Live Governance",color:"bg-cyan-100 text-cyan-800 dark:bg-cyan-900/30 dark:text-cyan-300"}},G=[{icon:e.jsx(L,{className:"w-5 h-5"}),title:"Deterministic Execution",description:"Every run produces identical results with the same inputs. Replay any execution perfectly."},{icon:e.jsx(v,{className:"w-5 h-5"}),title:"Policy Governance",description:"Constitutional rules enforce brand guidelines, safety constraints, and quality standards."},{icon:e.jsx(h,{className:"w-5 h-5"}),title:"Auto-Recovery",description:"Failures are detected, cataloged, and recovered automatically without human intervention."},{icon:e.jsx(D,{className:"w-5 h-5"}),title:"Complexity-Aware Routing",description:"Tasks are routed to the optimal agent based on complexity, drift, and historical performance."}];function U(){const d=N(),[x,u]=i.useState([]),[r,y]=i.useState(null),[b,j]=i.useState(!0);i.useEffect(()=>{async function t(){try{const[a,l]=await Promise.all([S(5).catch(()=>({runs:[],total:0})),A().catch(()=>null)]);u(a.runs),y(l)}finally{j(!1)}}t()},[]);const c=t=>{d(`/workers/console?worker=${t}`)},k=t=>{d(`/workers/console?replay=${t}`)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white dark:from-gray-900 dark:to-gray-800",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex items-center justify-center gap-3 mb-4",children:e.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-xl",children:e.jsx(W,{className:"w-10 h-10 text-purple-600 dark:text-purple-400"})})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Worker Studio"}),e.jsxs("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:["Run deterministic AI workers that produce ",e.jsx("strong",{children:"predictable, auditable, recoverable"})," results. Every execution is replayable. Every failure is recoverable."]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6 text-center",children:"The Machine-Native Difference"}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:G.map((t,a)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-xl bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 mb-4",children:t.icon}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.description})]},a))})]}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Available Workers"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:B.map(t=>e.jsxs("div",{className:s("bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden border-2 transition-all",t.status==="available"?"border-purple-200 dark:border-purple-800 hover:border-purple-400 dark:hover:border-purple-600 hover:shadow-lg cursor-pointer":"border-gray-200 dark:border-gray-700 opacity-75"),onClick:()=>t.status==="available"&&c(t.id),children:[e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:s("p-2 rounded-lg",t.status==="available"?"bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400":"bg-gray-100 dark:bg-gray-700 text-gray-500"),children:t.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.name}),e.jsx("span",{className:s("text-xs font-medium px-2 py-0.5 rounded-full",t.status==="available"&&"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300",t.status==="coming_soon"&&"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400",t.status==="beta"&&"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300"),children:t.status==="available"?"Available":t.status==="beta"?"Beta":"Coming Soon"})]})]}),t.status==="available"&&e.jsx(p,{className:"w-5 h-5 text-gray-400"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:t.description}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:t.moats.map(a=>{var l,m;return e.jsx("span",{className:s("px-2 py-0.5 text-xs font-medium rounded",(l=n[a])==null?void 0:l.color),children:((m=n[a])==null?void 0:m.label)||a},a)})})]}),t.status==="available"&&e.jsx("div",{className:"px-6 py-3 bg-purple-50 dark:bg-purple-900/20 border-t border-purple-100 dark:border-purple-800",children:e.jsxs("button",{className:"flex items-center gap-2 text-purple-600 dark:text-purple-400 font-medium text-sm hover:text-purple-700 dark:hover:text-purple-300",children:[e.jsx(o,{className:"w-4 h-4"}),"Run Worker"]})})]},t.id))})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"md:col-span-2 bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(C,{className:"w-5 h-5 text-gray-500"}),"Recent Runs"]}),e.jsx("button",{onClick:()=>d("/workers/history"),className:"text-sm text-purple-600 dark:text-purple-400 hover:underline",children:"View All"})]}),b?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading..."}):x.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No runs yet"}),e.jsxs("button",{onClick:()=>c("business-builder"),className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[e.jsx(o,{className:"w-4 h-4"}),"Start Your First Run"]})]}):e.jsx("div",{className:"space-y-3",children:x.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>k(t.run_id),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[t.success===!0&&e.jsx(f,{className:"w-5 h-5 text-green-500"}),t.success===!1&&e.jsx(h,{className:"w-5 h-5 text-red-500"}),t.success===null&&e.jsx(M,{className:"w-5 h-5 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate max-w-xs",children:t.task}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(t.created_at).toLocaleString()})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[t.total_latency_ms&&e.jsxs("span",{className:"text-xs text-gray-500",children:[(t.total_latency_ms/1e3).toFixed(1),"s"]}),e.jsx(p,{className:"w-4 h-4 text-gray-400"})]})]},t.run_id))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2 mb-4",children:[e.jsx(E,{className:"w-5 h-5 text-gray-500"}),"System Status"]}),r?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Status"}),e.jsx("span",{className:s("px-2 py-0.5 text-xs font-medium rounded-full",r.status==="healthy"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300"),children:r.status})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Version"}),e.jsx("span",{className:"text-sm font-mono text-gray-900 dark:text-white",children:r.version})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Active Runs"}),e.jsx("span",{className:"text-sm font-mono text-gray-900 dark:text-white",children:r.runs_in_memory})]}),e.jsx("hr",{className:"border-gray-200 dark:border-gray-700"}),e.jsxs("div",{className:"text-xs text-gray-500",children:[e.jsx("p",{className:"font-medium mb-2",children:"Integrated Moats:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:Object.keys(n).map(t=>e.jsx("span",{className:s("px-1.5 py-0.5 rounded text-xs",n[t].color),children:t},t))})]})]}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Unable to connect to worker service"})]})]}),e.jsx("div",{className:"mt-12 text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-4 p-4 bg-gradient-to-r from-purple-100 to-indigo-100 dark:from-purple-900/30 dark:to-indigo-900/30 rounded-2xl",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Ready to see deterministic AI in action?"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Run the Business Builder Worker and watch every moat operate in real-time."})]}),e.jsxs("button",{onClick:()=>c("business-builder"),className:"flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-xl font-medium hover:bg-purple-700 shadow-lg hover:shadow-xl transition-all",children:[e.jsx(o,{className:"w-5 h-5"}),"Launch Worker Console"]})]})})]})})}export{U as WorkerStudioHome,U as default};
