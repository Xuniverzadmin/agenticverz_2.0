capability_id,capability_name,description,mode,scope,mutates_state,bulk_support,latency_profile,execution_style,reversibility,authority_required,adapters,operators,input_contracts,output_contracts,side_effects,failure_modes,observability,replay_feasible,confidence_level,evidence_refs,risk_flags
CAP-INC-LIST,List Incidents,List incidents with pagination and filters,READ,BULK,NO,YES,LOW,SYNC,N/A,NONE,CustomerIncidentsAdapter,"IncidentReadService.list_incidents()","tenant_id (REQUIRED), status, severity, from_date, to_date, limit (max 100), offset","CustomerIncidentListResponse (items, total, page, page_size)",NONE,"404 Tenant not found, DB timeout",YES,YES,HIGH,"guard.py:494-537, customer_incidents_adapter.py:145-216, incident_read_service.py:56-106",NONE
CAP-INC-GET,Get Incident Detail,Get incident detail with timeline events,READ,SINGLE,NO,NO,LOW,SYNC,N/A,NONE,CustomerIncidentsAdapter,"IncidentReadService.get_incident(), IncidentReadService.get_incident_events()","incident_id (REQUIRED), tenant_id (REQUIRED)","CustomerIncidentDetail (incident, timeline)",NONE,404 Incident not found,YES,YES,HIGH,"guard.py:540-591, customer_incidents_adapter.py:218-277, incident_read_service.py:108-147",NONE
CAP-INC-ACK,Acknowledge Incident,"Mark incident as acknowledged, create timeline event",WRITE,SINGLE,YES,NO,LOW,SYNC,UNKNOWN,HUMAN,CustomerIncidentsAdapter,"IncidentReadService.get_incident(), IncidentWriteService.acknowledge_incident()","incident_id, tenant_id, acknowledged_by (default=customer)","CustomerIncidentSummary (status=acknowledged)","Creates IncidentEvent(event_type=acknowledged)",404 Incident not found,YES,PARTIAL,MEDIUM,"guard.py:594-612, customer_incidents_adapter.py:279-320, incident_write_service.py:53-87","REVERSIBILITY UNKNOWN - no unacknowledge; IDEMPOTENCY UNCLEAR; REPLAY RISK"
CAP-INC-RESOLVE,Resolve Incident,Mark incident as resolved with optional notes,WRITE,SINGLE,YES,NO,LOW,SYNC,UNKNOWN,HUMAN,CustomerIncidentsAdapter,"IncidentReadService.get_incident(), IncidentWriteService.resolve_incident()","incident_id, tenant_id, resolved_by, resolution_notes (optional)","CustomerIncidentSummary (status=resolved)","Creates IncidentEvent(event_type=resolved)",404 Incident not found,YES,PARTIAL,MEDIUM,"guard.py:615-633, customer_incidents_adapter.py:322-365, incident_write_service.py:89-129","REVERSIBILITY UNKNOWN - no unresolve; RESOLUTION NOTES PERSISTENCE UNCLEAR; IDEMPOTENCY UNCLEAR"
CAP-INC-SEARCH,Search Incidents,Search incidents with filters,READ,BULK,NO,YES,MEDIUM,SYNC,N/A,NONE,(direct in guard.py),guard.py search logic,"query, user_id, policy_status, severity, time_from, time_to, model, limit, offset","IncidentSearchResponse (items, total, query, filters_applied)",NONE,"Empty results, timeout",YES,YES,HIGH,guard.py:1336-1467,NONE
CAP-INC-TIMELINE,Get Decision Timeline,Get step-by-step decision trace for incident,READ,SINGLE,NO,NO,MEDIUM,SYNC,N/A,NONE,(direct in guard.py),guard.py timeline logic,incident_id,"DecisionTimelineResponse (events, policy_evaluations, root_cause, care_routing, failure_catalog_match)",NONE,404 Incident not found,YES,YES,HIGH,guard.py:1470-1774,NONE
CAP-INC-NARRATIVE,Get Customer Narrative,Get calm vocabulary summary for customer,READ,SINGLE,NO,NO,LOW,SYNC,N/A,NONE,(direct in guard.py),guard.py narrative functions,incident_id,"CustomerIncidentNarrativeDTO (title, summary, impact, resolution, customer_actions)",NONE,404 Incident not found,YES,YES,HIGH,guard.py:641-855,M29 Calm Vocabulary enforcement
CAP-INC-EXPORT,Export Evidence Report,Export incident as legal-grade PDF,READ,SINGLE,NO,NO,HIGH,SYNC,N/A,NONE,(direct in guard.py),"guard.py export logic, evidence_report service","incident_id, tenant_id, include_replay, include_prevention, is_demo",PDF bytes,Generates PDF file,404 Incident not found,YES,YES,HIGH,guard.py:1800-2003,HIGH LATENCY (PDF generation)
