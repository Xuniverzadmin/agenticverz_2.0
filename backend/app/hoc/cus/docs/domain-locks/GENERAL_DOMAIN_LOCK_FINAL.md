# GENERAL Domain Lock

**Status:** LOCKED
**Locked:** 2026-01-27
**Lock Version:** 2.1
**Files:** 87
**LOC:** 27264
**Domain Hash:** `dfab73663efef85c...`
**Generated by:** `hoc_phase3_domain_locker.py`
**Reference:** PIN-470, PIN-479, PIN-481 (P7 consolidation applied)

> **P7 Amendment:** 6 files deleted â€” `durability.py`, `runtime_switch.py`, `degraded_mode_checker.py`, `contract_engine.py`, `lifecycle/lifecycle_facade.py`, `knowledge_plane.py`, `lifecycle/engines/base.py`. Received `profile_policy_mode.py` (from policies). Inline `utc_now()` removed from `knowledge_lifecycle_manager.py`, `artifact.py`, `plan.py`. See CHANGE-2026-0001/0002/0003/0004, PIN-481.

---

## Layer Distribution

| Layer | Files | LOC |
|-------|-------|-----|
| L3_mcp | 2 | 456 |
| L4_runtime | 7 | 2358 |
| L5_controls | 7 | 1054 |
| L5_engines | 41 | 13119 |
| L5_lifecycle | 6 | 2976 |
| L5_schemas | 9 | 1416 |
| L5_support | 1 | 363 |
| L5_ui | 1 | 519 |
| L5_utils | 2 | 4 |
| L5_workflow | 1 | 541 |
| L6_drivers | 15 | 4417 |
| root | 1 | 41 |

---

## File Inventory

| File | Layer | LOC | Hash (first 12) |
|------|-------|-----|-----------------|
| `L3_mcp/__init__.py` | L3_mcp | 27 | `cc2a0518a273` |
| `L3_mcp/server_registry.py` | L3_mcp | 429 | `2a5f77fff66d` |
| `L4_runtime/drivers/transaction_coordinator.py` | L4_runtime | 650 | `3ac3f885da03` |
| `L4_runtime/engines/__init__.py` | L4_runtime | 207 | `e408b577a2c6` |
| `L4_runtime/engines/constraint_checker.py` | L4_runtime | 236 | `936315767173` |
| `L4_runtime/engines/governance_orchestrator.py` | L4_runtime | 569 | `42660aec0d9c` |
| `L4_runtime/engines/phase_status_invariants.py` | L4_runtime | 274 | `a99adc8c806b` |
| `L4_runtime/engines/plan_generation_engine.py` | L4_runtime | 172 | `3ae1441f123b` |
| `L4_runtime/facades/run_governance_facade.py` | L4_runtime | 250 | `2cef7091e90b` |
| `L5_controls/__init__.py` | L5_controls | 0 | `3593f3a5fce8` |
| `L5_controls/drivers/__init__.py` | L5_controls | 13 | `e529e512221e` |
| `L5_controls/drivers/guard_write_driver.py` | L5_controls | 192 | `1c44716ff9ef` |
| `L5_controls/drivers/runtime_switch.py` | L5_controls | 208 | `aef8649ca57b` |
| `L5_controls/engines/__init__.py` | L5_controls | 0 | `38024834f1a6` |
| `L5_controls/engines/degraded_mode_checker.py` | L5_controls | 541 | `36a4051797ed` |
| `L5_controls/engines/guard_write_engine.py` | L5_controls | 100 | `95c456572dd6` |
| `L5_engines/__init__.py` | L5_engines | 4 | `c32c3e1ae0f6` |
| `L5_engines/alert_log_linker.py` | L5_engines | 588 | `9d22dc2c2244` |
| `L5_engines/alert_worker.py` | L5_engines | 283 | `3716101b59d4` |
| `L5_engines/alerts_facade.py` | L5_engines | 543 | `577bfebdce71` |
| `L5_engines/audit_durability.py` | L5_engines | 247 | `585595f6ba06` |
| `L5_engines/audit_store.py` | L5_engines | 310 | `0d1e21e8f2fc` |
| `L5_engines/canonical_json.py` | L5_engines | 208 | `89817e5ec3c2` |
| `L5_engines/compliance_facade.py` | L5_engines | 397 | `77c61857ab2c` |
| `L5_engines/concurrent_runs.py` | L5_engines | 167 | `2b0e362a966e` |
| `L5_engines/constraint_checker.py` | L5_engines | 236 | `1f630f83f952` |
| `L5_engines/contract_engine.py` | L5_engines | 541 | `c905749ae432` |
| `L5_engines/control_registry.py` | L5_engines | 378 | `14422e7fc2eb` |
| `L5_engines/cus_credential_service.py` | L5_engines | 324 | `db4e568b182c` |
| `L5_engines/cus_health_shim.py` | L5_engines | 20 | `2ed02700e349` |
| `L5_engines/dag_sorter.py` | L5_engines | 218 | `884be22db021` |
| `L5_engines/db_helpers.py` | L5_engines | 297 | `b1ba789945f6` |
| `L5_engines/degraded_mode_checker.py` | L5_engines | 541 | `b3f610fedb71` |
| `L5_engines/deterministic.py` | L5_engines | 87 | `df3fc77e22a4` |
| `L5_engines/durability.py` | L5_engines | 247 | `585595f6ba06` |
| `L5_engines/fatigue_controller.py` | L5_engines | 589 | `f69752102a30` |
| `L5_engines/guard.py` | L5_engines | 407 | `5403591369fc` |
| `L5_engines/input_sanitizer.py` | L5_engines | 166 | `bbe7b393f302` |
| `L5_engines/knowledge_lifecycle_manager.py` | L5_engines | 703 | `302d7a834671` |
| `L5_engines/knowledge_sdk.py` | L5_engines | 767 | `706a14f38354` |
| `L5_engines/lifecycle/lifecycle_facade.py` | L5_engines | 557 | `806f4c831ca2` |
| `L5_engines/lifecycle_facade.py` | L5_engines | 557 | `53309052d943` |
| `L5_engines/lifecycle_stages_base.py` | L5_engines | 231 | `fd31a15f5f69` |
| `L5_engines/manager.py` | L5_engines | 289 | `face0e7b37a6` |
| `L5_engines/metrics_helpers.py` | L5_engines | 130 | `1805bce4a1b3` |
| `L5_engines/monitors_facade.py` | L5_engines | 427 | `e8fe578e55c7` |
| `L5_engines/panel_invariant_monitor.py` | L5_engines | 316 | `457ff7476231` |
| `L5_engines/panel_slot_evaluator.py` | L5_engines | 193 | `61933bee96a9` |
| `L5_engines/panel_verification_engine.py` | L5_engines | 162 | `65d6a37dca98` |
| `L5_engines/plan_inspector.py` | L5_engines | 210 | `e76e9c16ca9d` |
| `L5_engines/rate_limiter.py` | L5_engines | 120 | `76492c4b4610` |
| `L5_engines/retrieval_facade.py` | L5_engines | 410 | `65f62ba75b7c` |
| `L5_engines/retrieval_mediator.py` | L5_engines | 377 | `61c3fdc52a5f` |
| `L5_engines/runtime.py` | L5_engines | 33 | `0e8932dc3478` |
| `L5_engines/runtime_switch.py` | L5_engines | 207 | `fe7347961520` |
| `L5_engines/scheduler_facade.py` | L5_engines | 424 | `8fd355593a1a` |
| `L5_engines/webhook_verify.py` | L5_engines | 208 | `126d3207d974` |
| `L5_lifecycle/drivers/execution.py` | L5_lifecycle | 1011 | `eabc26695a38` |
| `L5_lifecycle/drivers/knowledge_plane.py` | L5_lifecycle | 361 | `c5ba00bf9b46` |
| `L5_lifecycle/engines/base.py` | L5_lifecycle | 231 | `fd31a15f5f69` |
| `L5_lifecycle/engines/offboarding.py` | L5_lifecycle | 393 | `27f664938758` |
| `L5_lifecycle/engines/onboarding.py` | L5_lifecycle | 518 | `463b57a70d13` |
| `L5_lifecycle/engines/pool_manager.py` | L5_lifecycle | 462 | `1712f8e9be11` |
| `L5_schemas/__init__.py` | L5_schemas | 4 | `f714a56c56de` |
| `L5_schemas/agent.py` | L5_schemas | 154 | `22991da6012c` |
| `L5_schemas/artifact.py` | L5_schemas | 103 | `117f10e5cd18` |
| `L5_schemas/common.py` | L5_schemas | 77 | `a7087055de5a` |
| `L5_schemas/plan.py` | L5_schemas | 186 | `6f6ab15219f5` |
| `L5_schemas/rac_models.py` | L5_schemas | 311 | `e7ff1487b419` |
| `L5_schemas/response.py` | L5_schemas | 249 | `a3c4fb2d52b7` |
| `L5_schemas/retry.py` | L5_schemas | 60 | `5b4aadb6392e` |
| `L5_schemas/skill.py` | L5_schemas | 272 | `b96669c69b83` |
| `L5_support/CRM/engines/job_executor.py` | L5_support | 363 | `c65a1e6a7836` |
| `L5_ui/engines/rollout_projection.py` | L5_ui | 519 | `b63e42c31bb6` |
| `L5_utils/__init__.py` | L5_utils | 0 | `f62127bb1cb0` |
| `L5_utils/time.py` | L5_utils | 4 | `fbe0263e6676` |
| `L5_workflow/contracts/engines/contract_engine.py` | L5_workflow | 541 | `2383f2fe4560` |
| `L6_drivers/__init__.py` | L6_drivers | 4 | `1e11dfa58cbd` |
| `L6_drivers/alert_driver.py` | L6_drivers | 241 | `583cb09a6b7d` |
| `L6_drivers/alert_emitter.py` | L6_drivers | 338 | `3569ac10bc02` |
| `L6_drivers/budget_tracker.py` | L6_drivers | 402 | `cc2987da0280` |
| `L6_drivers/cross_domain.py` | L6_drivers | 371 | `0b128a296c77` |
| `L6_drivers/cus_health_driver.py` | L6_drivers | 401 | `1c09e2bab21e` |
| `L6_drivers/dag_executor.py` | L6_drivers | 242 | `f844a0755cc0` |
| `L6_drivers/decisions.py` | L6_drivers | 1078 | `2fc1cbcdad11` |
| `L6_drivers/governance_signal_driver.py` | L6_drivers | 220 | `0d9b19d7ef27` |
| `L6_drivers/guard_cache.py` | L6_drivers | 173 | `3709c7aad593` |
| `L6_drivers/idempotency.py` | L6_drivers | 104 | `177f35060dce` |
| `L6_drivers/knowledge_plane.py` | L6_drivers | 361 | `17d146232a31` |
| `L6_drivers/ledger.py` | L6_drivers | 207 | `faaebd5694a7` |
| `L6_drivers/schema_parity.py` | L6_drivers | 103 | `992ec171467e` |
| `L6_drivers/worker_write_service_async.py` | L6_drivers | 172 | `bc7821b03697` |
| `__init__.py` | root | 41 | `934c733688ec` |

---

## Modification Rules

- **New files:** ALLOWED (must follow layer convention)
- **Edit files:** ALLOWED (hash will change, re-lock required)
- **Delete files:** REQUIRES_APPROVAL
- **Move files:** BLOCKED (use migration process)
- **Rename files:** BLOCKED

---

*Lock generated: 2026-01-27T14:08:57Z*
