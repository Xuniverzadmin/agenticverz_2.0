# POLICIES Domain Lock

**Status:** LOCKED
**Locked:** 2026-01-27
**Lock Version:** 2.1
**Files:** 84
**LOC:** 28186
**Domain Hash:** `4a4dd5b7b81e113d...`
**Generated by:** `hoc_phase3_domain_locker.py`
**Reference:** PIN-470, PIN-479, PIN-481 (P7 consolidation applied)

---

## Layer Distribution

| Layer | Files | LOC |
|-------|-------|-----|
| L3_adapters | 2 | 396 |
| L5_controls | 2 | 27 |
| L5_engines | 73 | 23435 |
| L5_schemas | 2 | 134 |
| L6_drivers | 15 | 4189 |
| root | 1 | 5 |

---

## File Inventory

| File | Layer | LOC | Hash (first 12) |
|------|-------|-----|-----------------|
| `L3_adapters/founder_contract_review_adapter.py` | L3_adapters | 219 | `faaa1d0c3c62` |
| `L3_adapters/policy_adapter.py` | L3_adapters | 177 | `6a66c2525895` |
| `L5_controls/KillSwitch/engines/__init__.py` | L5_controls | 6 | `b818ac35a5f5` |
| `L5_controls/drivers/__init__.py` | L5_controls | 21 | `9ea9922f9058` |
| `L5_engines/__init__.py` | L5_engines | 4 | `6844a678abea` |
| `L5_engines/ast.py` | L5_engines | 235 | `c2e90f27f0b0` |
| `L5_engines/authority_checker.py` | L5_engines | 210 | `9098f4832701` |
| `L5_engines/binding_moment_enforcer.py` | L5_engines | 194 | `5f039535ea8f` |
| `L5_engines/claim_decision_engine.py` | L5_engines | 62 | `07c082d57a01` |
| `L5_engines/compiler_parser.py` | L5_engines | 359 | `5d6b7d14ea8b` |
| `L5_engines/content_accuracy.py` | L5_engines | 277 | `9c1d8c3ba9b6` |
| `L5_engines/cus_enforcement_service.py` | L5_engines | 45 | `5a95980e0f0e` |
| `L5_engines/customer_policy_read_engine.py` | L5_engines | 236 | `66c1a8658cb9` |
| `L5_engines/decorator.py` | L5_engines | 126 | `918eca9d9f0e` |
| `L5_engines/degraded_mode.py` | L5_engines | 151 | `debcf00de146` |
| `L5_engines/deterministic_engine.py` | L5_engines | 385 | `e8faf5f69e70` |
| `L5_engines/dsl_parser.py` | L5_engines | 376 | `e0f5ddef9f73` |
| `L5_engines/eligibility_engine.py` | L5_engines | 574 | `c1b80205e65b` |
| `L5_engines/engine.py` | L5_engines | 2155 | `30d40ff01b9d` |
| `L5_engines/failure_mode_handler.py` | L5_engines | 199 | `6178d6f7fd36` |
| `L5_engines/fatigue_controller.py` | L5_engines | 589 | `db811fae9f91` |
| `L5_engines/folds.py` | L5_engines | 287 | `8f7b675b8703` |
| `L5_engines/governance_facade.py` | L5_engines | 479 | `c44209250711` |
| `L5_engines/governance_orchestrator.py` | L5_engines | 569 | `64c14f790aa5` |
| `L5_engines/grammar.py` | L5_engines | 160 | `8f5e38d02a08` |
| `L5_engines/hallucination_detector.py` | L5_engines | 333 | `3a5ad6640729` |
| `L5_engines/intent.py` | L5_engines | 265 | `afa04084d468` |
| `L5_engines/interpreter.py` | L5_engines | 397 | `3c4214638786` |
| `L5_engines/ir_builder.py` | L5_engines | 278 | `ee4ae3c51174` |
| `L5_engines/ir_compiler.py` | L5_engines | 329 | `eb6673d861c6` |
| `L5_engines/ir_nodes.py` | L5_engines | 274 | `40b68ad949cc` |
| `L5_engines/job_executor.py` | L5_engines | 363 | `28ccac34f552` |
| `L5_engines/kernel.py` | L5_engines | 464 | `c3b0fe67ea11` |
| `L5_engines/keys_shim.py` | L5_engines | 94 | `7f9a755995e3` |
| `L5_engines/kill_switch.py` | L5_engines | 154 | `3cb2a002136c` |
| `L5_engines/learning_proof_engine.py` | L5_engines | 640 | `defb417970a5` |
| `L5_engines/lessons_engine.py` | L5_engines | 806 | `c94234ce453e` |
| `L5_engines/limits.py` | L5_engines | 107 | `54eaa7ef1e55` |
| `L5_engines/limits_facade.py` | L5_engines | 355 | `10a7e5142adc` |
| `L5_engines/limits_simulation_service.py` | L5_engines | 44 | `1e1976b30185` |
| `L5_engines/llm_policy_engine.py` | L5_engines | 294 | `42b32792e0c9` |
| `L5_engines/mapper.py` | L5_engines | 199 | `e6fcb1804a94` |
| `L5_engines/mcp_connector.py` | L5_engines | 318 | `eb80a31b7011` |
| `L5_engines/nodes.py` | L5_engines | 239 | `6e1fe73b00b0` |
| `L5_engines/phase_status_invariants.py` | L5_engines | 274 | `6820ca9bff00` |
| `L5_engines/plan.py` | L5_engines | 94 | `b3ef355d9914` |
| `L5_engines/plan_generation_engine.py` | L5_engines | 172 | `ad34482d01dc` |
| `L5_engines/policies_facade.py` | L5_engines | 71 | `9c06af3eddc0` |
| `L5_engines/policies_limits_query_engine.py` | L5_engines | 239 | `db2921506bb3` |
| `L5_engines/policies_proposals_query_engine.py` | L5_engines | 156 | `f7ed15f6533a` |
| `L5_engines/policies_rules_query_engine.py` | L5_engines | 179 | `c4d7f948501b` |
| `L5_engines/policy_command.py` | L5_engines | 316 | `095d9f4da727` |
| `L5_engines/policy_conflict_resolver.py` | L5_engines | 194 | `ef4e061bf3ba` |
| `L5_engines/policy_driver.py` | L5_engines | 278 | `01d81d2cc122` |
| `L5_engines/policy_graph_engine.py` | L5_engines | 572 | `704e130d0309` |
| `L5_engines/policy_limits_engine.py` | L5_engines | 269 | `da82b18edc88` |
| `L5_engines/policy_mapper.py` | L5_engines | 375 | `028d2210d438` |
| `L5_engines/policy_models.py` | L5_engines | 411 | `ce06f09e8c5a` |
| `L5_engines/policy_proposal_engine.py` | L5_engines | 539 | `2a202c456fe0` |
| `L5_engines/policy_rules_engine.py` | L5_engines | 287 | `0c0241e52269` |
| `L5_engines/prevention_engine.py` | L5_engines | 397 | `85302155f26e` |
| `L5_engines/prevention_hook.py` | L5_engines | 208 | `fd2007138398` |
| `L5_engines/profile.py` | L5_engines | 323 | `c04e942a8356` |
| `L5_engines/protection_provider.py` | L5_engines | 262 | `2431c7de4717` |
| `L5_engines/recovery_evaluation_engine.py` | L5_engines | 283 | `093df4850276` |
| `L5_engines/replay_determinism.py` | L5_engines | 356 | `d19ac5f38455` |
| `L5_engines/rollout_projection.py` | L5_engines | 519 | `d8b93b4429d5` |
| `L5_engines/run_governance_facade.py` | L5_engines | 250 | `6cfab919b6a2` |
| `L5_engines/runtime_command.py` | L5_engines | 402 | `5dfdbfed6a0a` |
| `L5_engines/sandbox_engine.py` | L5_engines | 411 | `b46bbf585a7b` |
| `L5_engines/snapshot_engine.py` | L5_engines | 441 | `8ad054f72166` |
| `L5_engines/state.py` | L5_engines | 68 | `57bab2733ad5` |
| `L5_engines/tokenizer.py` | L5_engines | 253 | `d47fbf45e95d` |
| `L5_engines/validator.py` | L5_engines | 270 | `0d710637ed09` |
| `L5_engines/validator_engine.py` | L5_engines | 479 | `220408557459` |
| `L5_engines/visitors.py` | L5_engines | 222 | `27fa311a87e1` |
| `L5_engines/worker_execution_command.py` | L5_engines | 240 | `aab50f26a06f` |
| `L5_schemas/__init__.py` | L5_schemas | 4 | `06c9df047c51` |
| `L5_schemas/policy_rules.py` | L5_schemas | 130 | `87eacf4ce973` |
| `L6_drivers/__init__.py` | L6_drivers | 53 | `9a45f2524953` |
| `L6_drivers/arbitrator.py` | L6_drivers | 250 | `4e272c7c314e` |
| `L6_drivers/optimizer_conflict_resolver.py` | L6_drivers | 282 | `6b13b1bc7bea` |
| `L6_drivers/policy_engine_driver.py` | L6_drivers | 1187 | `021c42c59465` |
| `L6_drivers/policy_graph_driver.py` | L6_drivers | 169 | `4a3a3758eb97` |
| `L6_drivers/policy_proposal_read_driver.py` | L6_drivers | 155 | `0e51e16b56b3` |
| `L6_drivers/policy_proposal_write_driver.py` | L6_drivers | 183 | `78ca5acf4d2f` |
| `L6_drivers/policy_read_driver.py` | L6_drivers | 143 | `153a2f3904a5` |
| `L6_drivers/policy_rules_driver.py` | L6_drivers | 63 | `31acd3763054` |
| `L6_drivers/policy_rules_read_driver.py` | L6_drivers | 201 | `76ef2b2bc79e` |
| `L6_drivers/proposals_read_driver.py` | L6_drivers | 156 | `9b2dc9cb6cfd` |
| `L6_drivers/recovery_matcher.py` | L6_drivers | 726 | `a7f150bfbcec` |
| `L6_drivers/recovery_write_driver.py` | L6_drivers | 206 | `7b24dc0cfee1` |
| `L6_drivers/scope_resolver.py` | L6_drivers | 186 | `8af42dfff794` |
| `L6_drivers/symbol_table.py` | L6_drivers | 229 | `ceb62ce0ae31` |
| `__init__.py` | root | 5 | `d5a8d8a72d02` |

---

## Modification Rules

- **New files:** ALLOWED (must follow layer convention)
- **Edit files:** ALLOWED (hash will change, re-lock required)
- **Delete files:** REQUIRES_APPROVAL
- **Move files:** BLOCKED (use migration process)
- **Rename files:** BLOCKED

---

*Lock generated: 2026-01-27T14:08:57Z*

---

## P7 Amendment (2026-01-27)

**Files removed (10 deleted + 3 moved out = -13):**
- DELETED: `L5_engines/fatigue_controller.py` → canonical: `general/L5_engines/fatigue_controller.py`
- DELETED: `L5_engines/hallucination_detector.py` → canonical: `incidents/L5_engines/hallucination_detector.py`
- DELETED: `L5_engines/mcp_connector.py` → canonical: `integrations/L5_engines/mcp_connector.py`
- DELETED: `L5_engines/rollout_projection.py` → canonical: `general/L5_ui/engines/rollout_projection.py`
- DELETED: `L5_engines/job_executor.py` → canonical: `general/L5_support/CRM/engines/job_executor.py`
- DELETED: `L5_engines/mapper.py` → canonical: `logs/L5_engines/mapper.py`
- DELETED: `L5_engines/replay_determinism.py` → canonical: `logs/L5_engines/replay_determinism.py`
- DELETED: `L5_engines/governance_orchestrator.py` → canonical: `general/L4_runtime/engines/governance_orchestrator.py`
- DELETED: `L5_engines/run_governance_facade.py` → canonical: `general/L4_runtime/facades/run_governance_facade.py`
- DELETED: `L5_engines/lessons_engine.py` inline `utc_now()` removed (file kept)
- MOVED OUT: `L5_engines/profile.py` → `general/L5_engines/profile_policy_mode.py`
- MOVED OUT: `L5_engines/validator_engine.py` → `account/L5_support/CRM/engines/crm_validator_engine.py`
- MOVED OUT: `L5_engines/policy_limits_engine.py` inline `utc_now()`+`generate_uuid()` removed (file kept)
- MOVED OUT: `L5_engines/policy_rules_engine.py` inline `utc_now()`+`generate_uuid()` removed (file kept)

**Reference:** CHANGE-2026-0001 through CHANGE-2026-0004, PIN-481
