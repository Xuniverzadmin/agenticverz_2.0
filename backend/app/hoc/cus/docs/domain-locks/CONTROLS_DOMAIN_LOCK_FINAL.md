# CONTROLS Domain Lock

**Status:** LOCKED
**Locked:** 2026-01-27
**Lock Version:** 2.1
**Files:** 28
**LOC:** 6675
**Domain Hash:** `7b51ae0ede587c48...`
**Generated by:** `hoc_phase3_domain_locker.py`
**Reference:** PIN-470, PIN-479, PIN-481 (P7 consolidation applied)

> **P7 Amendment:** 2 files deleted â€” `alerts_facade.py`, `llm_threshold_driver.py`. Received `threshold_engine.py` (from activity). Inline `utc_now()`+`generate_uuid()` removed from `override_driver.py`. See CHANGE-2026-0001/0002/0004, PIN-481.

---

## Layer Distribution

| Layer | Files | LOC |
|-------|-------|-----|
| L3_adapters | 2 | 164 |
| L5_controls | 2 | 242 |
| L5_engines | 10 | 2378 |
| L5_schemas | 4 | 469 |
| L6_drivers | 10 | 3408 |
| root | 1 | 14 |

---

## File Inventory

| File | Layer | LOC | Hash (first 12) |
|------|-------|-----|-----------------|
| `L3_adapters/__init__.py` | L3_adapters | 0 | `6f56f6af9b21` |
| `L3_adapters/customer_killswitch_adapter.py` | L3_adapters | 164 | `5b1ccfa2014f` |
| `L5_controls/drivers/killswitch_read_driver.py` | L5_controls | 145 | `54b0eb0ed413` |
| `L5_controls/engines/customer_killswitch_read_engine.py` | L5_controls | 97 | `2b3f4212bf07` |
| `L5_engines/__init__.py` | L5_engines | 0 | `43567b0a270d` |
| `L5_engines/alert_fatigue.py` | L5_engines | 392 | `1c3eda6f4d1f` |
| `L5_engines/alerts_facade.py` | L5_engines | 543 | `67702b18cb70` |
| `L5_engines/budget_enforcement_engine.py` | L5_engines | 242 | `1905e57ab14e` |
| `L5_engines/cb_sync_wrapper.py` | L5_engines | 110 | `2adac3c8647a` |
| `L5_engines/controls_facade.py` | L5_engines | 339 | `dff004c6bd37` |
| `L5_engines/cost_safety_rails.py` | L5_engines | 275 | `3e21755c2741` |
| `L5_engines/decisions.py` | L5_engines | 161 | `798ba3045577` |
| `L5_engines/killswitch.py` | L5_engines | 175 | `c230ed84958b` |
| `L5_engines/s2_cost_smoothing.py` | L5_engines | 141 | `de1f63809bc5` |
| `L5_schemas/__init__.py` | L5_schemas | 0 | `415ebfb7ed62` |
| `L5_schemas/overrides.py` | L5_schemas | 151 | `14df3849fae8` |
| `L5_schemas/policy_limits.py` | L5_schemas | 151 | `00290bc40041` |
| `L5_schemas/simulation.py` | L5_schemas | 167 | `48fd90fd190c` |
| `L6_drivers/__init__.py` | L6_drivers | 0 | `d2e1f12bbd63` |
| `L6_drivers/budget_enforcement_driver.py` | L6_drivers | 78 | `27313a3cb305` |
| `L6_drivers/circuit_breaker.py` | L6_drivers | 738 | `03ad288bbe35` |
| `L6_drivers/circuit_breaker_async.py` | L6_drivers | 743 | `46b3df5ca4ea` |
| `L6_drivers/limits_read_driver.py` | L6_drivers | 224 | `5aa1f9ed1bc2` |
| `L6_drivers/llm_threshold_driver.py` | L6_drivers | 580 | `0ebb8cae79f0` |
| `L6_drivers/override_driver.py` | L6_drivers | 198 | `40bfb7d7d589` |
| `L6_drivers/policy_limits_driver.py` | L6_drivers | 63 | `2f94adae2e7a` |
| `L6_drivers/scoped_execution.py` | L6_drivers | 516 | `01f6f705630f` |
| `L6_drivers/threshold_driver.py` | L6_drivers | 268 | `5dd0c83c8511` |
| `__init__.py` | root | 14 | `3353c5f04be6` |

---

## Modification Rules

- **New files:** ALLOWED (must follow layer convention)
- **Edit files:** ALLOWED (hash will change, re-lock required)
- **Delete files:** REQUIRES_APPROVAL
- **Move files:** BLOCKED (use migration process)
- **Rename files:** BLOCKED

---

*Lock generated: 2026-01-27T14:08:57Z*
